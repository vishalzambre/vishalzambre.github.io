<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Primary Meta Tags -->
<title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
<meta name="title" content="{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}">
<meta name="description" content="{{ page.description | default: page.excerpt | default: site.description | strip_html | truncate: 160 }}">
<meta name="keywords" content="{% if page.tags %}{{ page.tags | join: ', ' }}, {% endif %}{{ site.keywords }}">
<meta name="author" content="{{ site.author }}">

<!-- Canonical URL -->
<link rel="canonical" href="{{ site.url }}{{ page.url }}">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
<meta property="og:url" content="{{ site.url }}{{ page.url }}">
<meta property="og:title" content="{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}">
<meta property="og:description" content="{{ page.description | default: page.excerpt | default: site.description | strip_html | truncate: 160 }}">
<meta property="og:image" content="{{ site.url }}/assets/images/profile.png">
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:locale" content="en_US">
{% if page.layout == 'post' %}
<meta property="article:author" content="{{ site.author }}">
<meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
<meta property="article:modified_time" content="{{ page.last_modified_at | default: page.date | date_to_xmlschema }}">
{% for tag in page.tags %}
<meta property="article:tag" content="{{ tag }}">
{% endfor %}
{% endif %}

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="{{ site.url }}{{ page.url }}">
<meta property="twitter:title" content="{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}">
<meta property="twitter:description" content="{{ page.description | default: page.excerpt | default: site.description | strip_html | truncate: 160 }}">
<meta property="twitter:image" content="{{ site.url }}/assets/images/profile.png">
<meta property="twitter:creator" content="@{{ site.twitter_username }}">
<meta property="twitter:site" content="@{{ site.twitter_username }}">

<!-- Additional Meta Tags -->
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<meta name="googlebot" content="index, follow">
<meta name="bingbot" content="index, follow">
<meta name="theme-color" content="#2c3e50">
<meta name="msapplication-TileColor" content="#2c3e50">

<!-- Structured Data (JSON-LD) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "{% if page.layout == 'post' %}BlogPosting{% else %}WebSite{% endif %}",
  "name": "{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}",
  "headline": "{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}",
  "description": "{{ page.description | default: page.excerpt | default: site.description | strip_html | truncate: 160 }}",
  "url": "{{ site.url }}{{ page.url }}",
  "image": "{{ site.url }}/assets/images/profile.png",
  "author": {
    "@type": "Person",
    "name": "{{ site.author }}",
    "url": "{{ site.url }}",
    "sameAs": [
      "{{ site.social_links.twitter }}",
      "{{ site.social_links.github }}",
      "{{ site.social_links.linkedin }}",
      "{{ site.social_links.stackoverflow }}"
    ]
  },
  "publisher": {
    "@type": "Person",
    "name": "{{ site.author }}",
    "url": "{{ site.url }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ site.url }}/assets/images/profile.png"
    }
  },
  {% if page.layout == 'post' %}
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "dateModified": "{{ page.last_modified_at | default: page.date | date_to_xmlschema }}",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ site.url }}{{ page.url }}"
  },
  "keywords": "{% if page.tags %}{{ page.tags | join: ', ' }}, {% endif %}{{ site.keywords }}",
  {% endif %}
  "inLanguage": "en-US"
}
</script>

<!-- Professional/Technical Person Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "{{ site.author }}",
  "url": "{{ site.url }}",
  "image": "{{ site.url }}/assets/images/profile.png",
  "sameAs": [
    "{{ site.social_links.twitter }}",
    "{{ site.social_links.github }}",
    "{{ site.social_links.linkedin }}",
    "{{ site.social_links.stackoverflow }}"
  ],
  "jobTitle": "{{ site.designation }}",
  "worksFor": {
    "@type": "Organization",
    "name": "Remote"
  },
  "knowsAbout": [
    "Ruby on Rails",
    "React",
    "DevOps",
    "Software Architecture",
    "Remote Team Leadership",
    "Full Stack Development"
  ],
  "email": "{{ site.email }}",
  "address": {
    "@type": "PostalAddress",
    "addressCountry": "IN"
  }
}
</script>

<!-- CSS -->
<link rel="stylesheet" href="{{ '/assets/css/portfolio.css' | relative_url }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">

<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="{{ '/assets/images/favicon.ico' | relative_url }}">
<link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/images/icons/favicon.ico' | relative_url }}">

<!-- SEO Plugin -->
{% seo %}

<!-- Post-specific SEO enhancements -->
{% include seo-post.html %}

<!-- Google Analytics -->
{% if site.google-tracking-id %}
<script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google-tracking-id }}"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '{{ site.google-tracking-id }}');
</script>
{% endif %}

<!-- Preload critical resources -->
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style">
<link rel="preload" href="{{ '/assets/css/portfolio.css' | relative_url }}" as="style">
